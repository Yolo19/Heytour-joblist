{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yulu/Heytour-joblist/Heytour-Yulu/src/authentication/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Button, Divider, Form, Modal } from 'semantic-ui-react';\nimport { useLogin } from './AuthAPI';\nimport authReducer from './AuthReducer';\nexport default function Auth(props) {\n  _s();\n\n  const didMountRef = useRef(false);\n  const [username, setUserName] = useState('');\n  const [pwd, setPwd] = useState('');\n\n  const onLogin = () => {\n    props.onLogin(username);\n  };\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      if (login.isError) {\n        dispatch({\n          type: 'AUTH_ERROR'\n        });\n      } else if (login.isLoading) {\n        dispatch({\n          type: 'AUTH_LOADING'\n        });\n      } else {\n        props.onLogin(login.data);\n      }\n    } else {\n      didMountRef.current = true;\n    }\n\n    ;\n  }, [login]);\n\n  function handleLogin() {\n    const user = {\n      userName: state.userName,\n      password: state.password\n    };\n    setLogin(user);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: props.onClose,\n    open: props.open,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"User Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"User Name\",\n          value: username,\n          onChange: e => {\n            setUserName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Password\",\n          value: pwd,\n          onChange: e => {\n            setPwd(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        onClick: onLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Auth, \"pNzn3rqln/tDba7uLIIhBEivDcc=\");\n\n_c = Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/yulu/Heytour-joblist/Heytour-Yulu/src/authentication/Auth.js"],"names":["React","useState","useEffect","useRef","Button","Divider","Form","Modal","useLogin","authReducer","Auth","props","didMountRef","username","setUserName","pwd","setPwd","onLogin","current","login","isError","dispatch","type","isLoading","data","handleLogin","user","userName","state","password","setLogin","onClose","open","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Button, Divider, Form, Modal } from 'semantic-ui-react'\nimport { useLogin } from './AuthAPI'\nimport authReducer from './AuthReducer'\n\nexport default function Auth(props){\n    const didMountRef = useRef(false);\n\n    const [username, setUserName] = useState(''); \n    const [pwd, setPwd] = useState(''); \n    const onLogin = () => {\n        props.onLogin(username);\n    }\n\n    useEffect(() => {\n        if (didMountRef.current) {\n          if (login.isError) {\n            dispatch({type:'AUTH_ERROR'});\n          } else if (login.isLoading) {\n            dispatch({type:'AUTH_LOADING'});\n          } else {\n            props.onLogin(login.data);\n          }\n        } else {\n          didMountRef.current = true;\n        };\n      }, [login]);\n\n    function handleLogin() {\n        const user = {\n            userName: state.userName,\n            password: state.password\n        };\n\n        setLogin(user);\n  }\n  \n    return (\n        <Modal\n            onClose={props.onClose}\n            open={props.open}\n        >\n       <Modal.Header>Login</Modal.Header>\n        <Form>\n            <Form.Field>\n                <label>User Name</label>\n                <input placeholder='User Name' \n                value={username}\n                onChange={(e) => {\n                    setUserName(e.target.value);\n                  }}/>\n            </Form.Field>\n            <Form.Field>\n                <label>Password</label>\n                <input placeholder='Password'\n                value={pwd}\n                onChange={(e) => {\n                    setPwd(e.target.value);\n                }}\n                />\n            </Form.Field>\n            <Button onClick={props.onClose}>Close</Button>\n            <Button type='submit' onClick={onLogin}>Login</Button>\n        </Form>\n    </Modal>\n        \n    )\n}"]},"metadata":{},"sourceType":"module"}