{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Menu } from 'semantic-ui-react'; // import Login from \"../authentication/Login\";\n\nimport { Login } from \"../authentication/Login\";\nconst initState = {\n  username: '',\n  pwd: '',\n  isLoading: false,\n  //loading，发送请求中\n  error: '',\n  isLoggedIn: false,\n  loginOpen: false\n};\n\nfunction loginReducer(state, action) {\n  switch (action.type) {\n    case 'Login':\n      return { ...state,\n        isLoading: true,\n        error: ''\n      };\n\n    case 'success':\n      return { ...state,\n        isLoggedIn: true,\n        isLoading: false\n      };\n\n    case 'error':\n      //登陆失败\n      return { ...state,\n        error: action.payload.error,\n        name: '',\n        pwd: '',\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default function AppMenu() {\n  _s();\n\n  const [state, dispatch] = React.useReducer(loginReducer, initState);\n} // export default function AppMenu() {\n//     const[loginOpen, setLoginOpen] = useState(false);\n//     const [userName, setUserName] = useState('');\n//     const [isLoggedIn, setIsLoggedIn] = useState(false);\n//     function handleOpenLogin(){\n//         setLoginOpen(true);\n//     }\n//     function handleLoginClose(){\n//         setLoginOpen(false);\n//     }\n//     function handleLogin(username){\n//         if(username) {\n//             setUserName(username);\n//             setIsLoggedIn(true);\n//         }\n//         setLoginOpen(false);\n//     } \n//     return (\n//         <div>\n//             <Menu size='large'>\n//                 <Menu.Item\n//                 name='Heytour'\n//                 />\n//                 <Menu.Menu position='right'>\n//                 <Menu.Item>\n//                     {isLoggedIn ?(<div>{username}</div>):\n//                     (<Button primary\n//                         onClick={handleOpenLogin}\n//                     >\n//                         Login\n//                     </Button>)}\n//                 </Menu.Item>\n//                 </Menu.Menu>\n//             </Menu>\n//             {loginOpen &&\n//             <Login\n//                 open={loginOpen}\n//                 onClose={handleLoginClose}\n//                 onLogin={handleLogin}\n//             />\n//             }\n//         </div>  \n//     )\n// }\n\n_s(AppMenu, \"ivzsx5aR9qRFuEtyOcndflQiQ1Q=\");\n\n_c = AppMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppMenu\");","map":{"version":3,"sources":["/Users/yulu/Heytour-Yulu/src/common/AppMenu.js"],"names":["React","useState","Button","Menu","Login","initState","username","pwd","isLoading","error","isLoggedIn","loginOpen","loginReducer","state","action","type","payload","name","AppMenu","dispatch","useReducer"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAA+B,OAA/B;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,mBAA7B,C,CACA;;AACA,SAAQC,KAAR,QAAoB,yBAApB;AAEA,MAAMC,SAAS,GAAG;AACdC,EAAAA,QAAQ,EAAE,EADI;AAEdC,EAAAA,GAAG,EAAE,EAFS;AAGdC,EAAAA,SAAS,EAAE,KAHG;AAGI;AAClBC,EAAAA,KAAK,EAAE,EAJO;AAKdC,EAAAA,UAAU,EAAE,KALE;AAMdC,EAAAA,SAAS,EAAE;AANG,CAAlB;;AASA,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;AACjC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,OAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHL,QAAAA,SAAS,EAAE,IAFR;AAGHC,QAAAA,KAAK,EAAE;AAHJ,OAAP;;AAKJ,SAAK,SAAL;AACI,aAAO,EACH,GAAGI,KADA;AAEHH,QAAAA,UAAU,EAAE,IAFT;AAGHF,QAAAA,SAAS,EAAE;AAHR,OAAP;;AAKJ,SAAK,OAAL;AAAc;AACV,aAAO,EACH,GAAGK,KADA;AAEHJ,QAAAA,KAAK,EAAEK,MAAM,CAACE,OAAP,CAAeP,KAFnB;AAGHQ,QAAAA,IAAI,EAAE,EAHH;AAIHV,QAAAA,GAAG,EAAE,EAJF;AAKHC,QAAAA,SAAS,EAAE;AALR,OAAP;;AAOJ;AACI,aAAOK,KAAP;AAtBR;AAwBH;;AAED,eAAe,SAASK,OAAT,GAAmB;AAAA;;AAC9B,QAAM,CAACL,KAAD,EAAQM,QAAR,IAAoBnB,KAAK,CAACoB,UAAN,CAAiBR,YAAjB,EAA+BP,SAA/B,CAA1B;AAEH,C,CACD;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GAlDwBa,O;;KAAAA,O","sourcesContent":["import React, { useState} from 'react'\nimport { Button, Menu } from 'semantic-ui-react'\n// import Login from \"../authentication/Login\";\nimport {Login} from \"../authentication/Login\"\n\nconst initState = {\n    username: '',\n    pwd: '',\n    isLoading: false, //loading，发送请求中\n    error: '',\n    isLoggedIn: false,\n    loginOpen: false\n}\n\nfunction loginReducer(state, action) {\n    switch (action.type) {\n        case 'Login' :\n            return {\n                ...state,\n                isLoading: true,\n                error: '',\n            }\n        case 'success':\n            return {\n                ...state,\n                isLoggedIn: true,\n                isLoading: false,\n            }\n        case 'error': //登陆失败\n            return {\n                ...state,\n                error: action.payload.error,\n                name: '',\n                pwd: '',\n                isLoading: false,\n            }\n        default: \n            return state;\n    }\n}\n\nexport default function AppMenu (){\n    const [state, dispatch] = React.useReducer(loginReducer, initState);\n\n}\n// export default function AppMenu() {\n//     const[loginOpen, setLoginOpen] = useState(false);\n//     const [userName, setUserName] = useState('');\n//     const [isLoggedIn, setIsLoggedIn] = useState(false);\n    \n//     function handleOpenLogin(){\n//         setLoginOpen(true);\n//     }\n\n//     function handleLoginClose(){\n//         setLoginOpen(false);\n//     }\n\n//     function handleLogin(username){\n//         if(username) {\n//             setUserName(username);\n//             setIsLoggedIn(true);\n//         }\n//         setLoginOpen(false);\n//     } \n//     return (\n//         <div>\n//             <Menu size='large'>\n//                 <Menu.Item\n//                 name='Heytour'\n//                 />\n//                 <Menu.Menu position='right'>\n//                 <Menu.Item>\n//                     {isLoggedIn ?(<div>{username}</div>):\n//                     (<Button primary\n//                         onClick={handleOpenLogin}\n//                     >\n//                         Login\n//                     </Button>)}\n//                 </Menu.Item>\n//                 </Menu.Menu>\n//             </Menu>\n//             {loginOpen &&\n//             <Login\n//                 open={loginOpen}\n//                 onClose={handleLoginClose}\n//                 onLogin={handleLogin}\n//             />\n//             }\n//         </div>  \n//     )\n// }\n\n"]},"metadata":{},"sourceType":"module"}