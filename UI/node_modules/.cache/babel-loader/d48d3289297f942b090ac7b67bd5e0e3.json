{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yulu/Heytour-joblist/Heytour-Yulu/src/authentication/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Button, Divider, Form, Modal } from 'semantic-ui-react';\nimport { useLogin } from './AuthAPI';\nimport authReducer from './AuthReducer';\nexport default function Auth(props) {\n  _s();\n\n  const didMountRef = useRef(false);\n  const [login, setLogin] = useLogin(null);\n  const [state, dispatch] = useReducer(authReducer, {\n    userName: '',\n    password: '',\n    isError: false,\n    isLoading: false,\n    validation: {}\n  });\n  useEffect(() => {\n    if (didMountRef.current) {\n      if (login.isError) {\n        dispatch({\n          type: 'AUTH_ERROR'\n        });\n      } else if (login.isLoading) {\n        dispatch({\n          type: 'AUTH_LOADING'\n        });\n      } else {\n        props.onLogin(login.data);\n      }\n    } else {\n      didMountRef.current = true;\n    }\n\n    ;\n  }, [login]);\n\n  function handleLogin() {\n    const user = {\n      userName: state.userName,\n      password: state.password\n    };\n    setLogin(user);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: props.onClose,\n    open: props.open,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"User Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"User Name\",\n          value: username,\n          onChange: e => {\n            setUserName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Password\",\n          value: pwd,\n          onChange: e => {\n            setPwd(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        onClick: onLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Auth, \"ybNdf865RcR+mEFoy0vZ5GRko1o=\", false, function () {\n  return [useLogin];\n});\n\n_c = Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/yulu/Heytour-joblist/Heytour-Yulu/src/authentication/Auth.js"],"names":["React","useState","useEffect","useRef","Button","Divider","Form","Modal","useLogin","authReducer","Auth","props","didMountRef","login","setLogin","state","dispatch","useReducer","userName","password","isError","isLoading","validation","current","type","onLogin","data","handleLogin","user","onClose","open","username","e","setUserName","target","value","pwd","setPwd"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Button, Divider, Form, Modal } from 'semantic-ui-react'\nimport { useLogin } from './AuthAPI'\nimport authReducer from './AuthReducer'\n\nexport default function Auth(props){\n    const didMountRef = useRef(false);\n\n    const [login, setLogin] = useLogin(null);\n    const [state, dispatch] = useReducer(authReducer, {\n        userName: '',\n        password: '',\n        isError: false,\n        isLoading: false,\n        validation: {}\n    });\n\n    useEffect(() => {\n        if (didMountRef.current) {\n          if (login.isError) {\n            dispatch({type:'AUTH_ERROR'});\n          } else if (login.isLoading) {\n            dispatch({type:'AUTH_LOADING'});\n          } else {\n            props.onLogin(login.data);\n          }\n        } else {\n          didMountRef.current = true;\n        };\n      }, [login]);\n\n    function handleLogin() {\n        const user = {\n            userName: state.userName,\n            password: state.password\n        };\n\n        setLogin(user);\n  }\n\n    return (\n        <Modal\n            onClose={props.onClose}\n            open={props.open}\n        >\n       <Modal.Header>Login</Modal.Header>\n        <Form>\n            <Form.Field>\n                <label>User Name</label>\n                <input placeholder='User Name' \n                value={username}\n                onChange={(e) => {\n                    setUserName(e.target.value);\n                  }}/>\n            </Form.Field>\n            <Form.Field>\n                <label>Password</label>\n                <input placeholder='Password'\n                value={pwd}\n                onChange={(e) => {\n                    setPwd(e.target.value);\n                }}\n                />\n            </Form.Field>\n            <Button onClick={props.onClose}>Close</Button>\n            <Button type='submit' onClick={onLogin}>Login</Button>\n        </Form>\n    </Modal>\n        \n    )\n}"]},"metadata":{},"sourceType":"module"}